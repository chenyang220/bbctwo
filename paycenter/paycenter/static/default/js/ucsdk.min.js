!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ComponentBaseUI=t():e.ComponentBaseUI=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=0)}([function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){function t(t,n,o,i){var r=window.plus.bridge,a="function"!=typeof o?null:function(n){e.UC.debug._res(t,n),o(n)},c="function"!=typeof i?null:function(n){e.UC.debug._res(t,n),i(n)},d=r.callbackId(a,c);return r.exec("SimbaPlugin","ucs_"+t,[d,n&&JSON.stringify(n)])}function n(t,n,o,i){window.external["ucs_"+t](JSON.stringify(n),function(n){"string"==typeof n&&(n=JSON.parse(n)),e.UC.debug._res(t,n),"200"==n.code?"function"==typeof o&&o(n):"function"==typeof i&&i(n)})}function i(t,n,o,i){window.WebViewJavascriptBridge.callHandler("ucs_"+t,n,function(n){"string"==typeof n&&(n=JSON.parse(n)),e.UC.debug._res(t,n),"200"==n.code?"function"==typeof o&&o(n):"function"==typeof i&&i(n)})}function r(o,r,a,c){e.UC.debug._req(o,r);try{t(o,r,a,c)}catch(t){try{i(o,r,a,c)}catch(t){try{n(o,r,a,c)}catch(t){e.UC.debug.error(k+"【"+o+"】"),e.UC.error(k+"【"+o+"】")}}}}function a(e,t){var n=document.getElementById("sk-wrap-auth");if("hide"===e)document.body.removeChild(n),d("hide");else{n=document.createElement("div"),n.setAttribute("id","sk-wrap-auth"),n.setAttribute("style","position:fixed;left:0;top:0;right:0;bottom:0;margin:auto;padding-top:1px;width:320px;height:380px;border-radius:6px;color:#000;font-size:18px;overflow:hidden;background-color:#fff;z-index:101;");var o=document.createElement("section");o.setAttribute("style","position: relative;margin-top:20px;height: calc(100% - 60px - 20px);"),o.innerHTML='<img style="display:block;margin:10px auto;width:100px;height:100px;border:solid 1px #eee;border-radius:4px;" src="'+e.clientImgUrl+'"><p style="margin:0;text-align:center;font-weight:bold;font-size:inherit;color:inherit;">'+e.name+'</p><hr style="display:block;margin:20px auto;width:calc(100% - 40px);height:2px;border:0;background-color:#eee;"><p style="margin:24px 0 0 0;padding:0 30px;font-size:inherit;color:inherit;">授权后开发者将获取以下权限</p><p style="margin:10px 0 0 0;padding:0 30px;color:#999;font-size:16px;">● 获取你的公开信息（用户名、头像等）</p>',n.appendChild(o);var i=document.createElement("footer");i.setAttribute("style","position: relative;height: 60px;line-height: 60px;text-align:right;border-top:solid 1px #eee;"),n.appendChild(i);var r=document.createElement("a");r.setAttribute("style","float:left;width:50%;height:100%;text-align:center;color:inherit;"),r.innerHTML="取消",r.addEventListener("click",function(){a("hide"),c({head:"提示",text:"取消授权，可能会使部分服务无法使用，或页面信息不完整。",cancel:"我知道了",confirm:"重新授权",confirmCallback:function(){t&&t()}})}),i.appendChild(r);var l=document.createElement("a");l.setAttribute("style","float:left;width:calc(50% - 1px);height:100%;text-align:center;color:#007aff;border-left:solid 1px #eee;"),l.innerHTML="授权",l.addEventListener("click",function(){t&&t()}),i.appendChild(l),document.body.appendChild(n),d()}}function c(e){e=Object.assign({head:"提示",text:"提示内容",cancel:"取消",confirm:"确认",cancelCallback:function(){},confirmCallback:function(){}},e);var t=function(){var e=document.getElementById("nosk-wrap-auth");e&&(document.body.removeChild(e),d("hide"))};t();var n=document.createElement("div");n.setAttribute("id","nosk-wrap-auth"),n.setAttribute("style","position:fixed;left:0;top:0;right:0;bottom:0;margin:auto;padding-top:1px;width:320px;height:200px;border-radius:6px;color:#000;font-size:18px;overflow:hidden;background-color:#fff;z-index:101;");var o=document.createElement("section");o.setAttribute("style","position: relative;margin-top:20px;height: calc(100% - 60px - 20px);"),o.innerHTML='<p style="text-align:center;color:inherit;font-size:inherit;">'+e.head+'</p><p style="margin-top:20px;padding: 0 16px;line-height: 26px;color:#666;font-size:16px;">'+e.text+"</p>",n.appendChild(o);var i=document.createElement("footer");i.setAttribute("style","position: relative;height: 60px;line-height: 60px;text-align:right;border-top:solid 1px #eee;"),n.appendChild(i);var r=document.createElement("a");r.setAttribute("style","float:left;width:50%;height:100%;text-align:center;color:inherit;"),r.innerHTML=e.cancel,r.addEventListener("click",function(){t(),e.cancelCallback&&e.cancelCallback()}),i.appendChild(r);var a=document.createElement("a");a.setAttribute("style","float:left;width:calc(50% - 1px);height:100%;text-align:center;color:#007aff;border-left:solid 1px #eee;"),a.innerHTML=e.confirm,a.addEventListener("click",function(){t(),e.confirmCallback&&e.confirmCallback()}),i.appendChild(a),document.body.appendChild(n),d()}function d(e){var t=document.getElementById("sk-wrap-zzc");t||(t=document.createElement("div"),t.setAttribute("id","sk-wrap-zzc"),t.setAttribute("style","position:fixed;display:none;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:100;"),document.body.appendChild(t)),t.style.display="hide"===e?"none":"unset"}function l(t){var n=b(),o="";o=x(n),o?(UC.config.signature=o,t&&t()):jsonp({url:w+"/oauth/jsdk/getCodeOrTokenByUser",time:1e4,data:{token:UC.config.token,enterpriseId:UC.config.enterId,authorization:encodeURI((new Base64).doEncode(UC.config.appId+":"+UC.config.appSecurity))},fail:function(){},success:function(n){var o=n.result;if(200!==n.msgCode)C("[CHECKFIRST]"+n.msgCode+":"+n.msg,"error");else if(o.authorizationCode||o.jsdkToken)o.jsdkToken?(f(o.jsdkToken),t&&t()):o.authorizationCode&&u(o.authorizationCode,function(){t&&t()});else if("H5+"===e.UC.client)s(function(e){a(e,function(){u("",function(){a("hide"),t&&t()})})});else{var i=UC.config.redirectUri.split("?"),r=i.length>0?i[0]:"",c=(new Base64).doEncode(i.length>1?i[1]:"");location.href=w+"/oauth/authorize?client_id="+UC.config.appId+"&enterprise_id="+UC.getUrlParamt("enterId")+"&scope=read&response_type=code&state="+c+"&redirect_uri="+r}}})}function u(e,t){e?jsonp({url:w+"/oauth/jsdk/getTokenForClient",time:1e4,data:{authorizationCode:e},fail:function(){},success:function(e){200===e.msgCode?(f(e.result),t&&t()):C("[GETUCTOKEN]"+e.msgCode+":"+e.msg,"error")}}):jsonp({url:w+"/oauth/openAuthorizePersonalJsonp",time:1e4,data:{authorization:encodeURI((new Base64).doEncode(UC.config.token+":"+UC.config.enterId+":"+UC.config.appId))},fail:function(){},success:function(e){200===e.msgCode?u(e.result,t):C("[GETAUTHORIZE]"+e.msgCode+":"+e.msg,"error")}})}function f(e){var t=b();UC.config.signature=e,y(t,e,36e4)}function s(e){jsonp({url:w+"/oauth/jsdk/getUserAppVo",time:1e4,data:{authorization:encodeURI((new Base64).doEncode(UC.config.appId+":"+UC.config.appSecurity))},fail:function(){},success:function(t){200===t.msgCode?e&&e(t.result):C("[GETAPPINFO]"+t.msgCode+":"+t.msg,"error")}})}function p(){if(!document.getElementById(E)){var e=document.createElement("div");e.setAttribute("id",E),e.setAttribute("style","position:fixed;left:0;top:0;padding:10px;width:100%;height:40%;line-height:24px;z-index:10002;color:#fff;word-break:break-all;background-color:rgba(0,0,0,0.8);overflow:auto;"),e.addEventListener("dblclick",function(e){var t=document.querySelector("#"+E+">."+I);t&&(t.innerHTML="")});var t=document.createElement("div");t.setAttribute("class",I),e.appendChild(t);var n=document.createElement("button");n.setAttribute("style","position:fixed;right:10px;top:calc(40% - 45px);"),n.innerText="隐藏",n.addEventListener("click",function(){m()}),e.appendChild(n),document.body.appendChild(e)}}function h(){var e=document.getElementById(E);e&&document.body.removeChild(e)}function g(){var e=document.getElementById(E);e&&(e.style.display="unset")}function m(){var e=document.getElementById(E);e&&(e.style.display="none")}function C(t,n){if(e.UC.config.debug){p(),n="error"===n?"red":"#ddd",t&&("object"===(void 0===t?"undefined":o(t))&&(t=JSON.stringify(t)),t=t.replace(/(\\")/g,"'"));var i=document.querySelector("#"+E+">."+I);i&&(i.innerHTML+='<p style="color:'+n+';">'+t+"</p>",g())}else h()}function b(){return"_UCKEY_"+UC.config.appId}function y(e,t,n){e&&t&&(t={value:t},n&&(t.time=(new Date).getTime(),t.timeOut=n),t=JSON.stringify(t),localStorage.setItem(e,t))}function x(e){if(e){var t=JSON.parse(localStorage.getItem(e));if(t){var n=t.time,o=t.timeOut;o&&(new Date).getTime()-n>o?(t="",localStorage.removeItem(e)):t=t.value}return t}}function v(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.href.split("?");o=o&&o.length>1?o[1]:"";var i=(t||o).match(n);return null!=i?unescape(i[2]):null}function U(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/)||!!e.match(/AppleWebKit/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),linux:e.indexOf("linux")>-1,wp7:e.indexOf("WP7")>-1||e.indexOf("Windows Phone OS")>-1}}var w="https://api.look56.com",k="UC：调用接口异常、接口不存在；请确认接口调用环境是否存在客户端中";e.UC={},UC.client="PC",UC.ready=null,UC.config={debug:!1,token:"",enterId:"",appId:"",appSecurity:"",signature:"",redirectUri:""},UC.error=function(e){},UC.call=function(e,t,n,i){UC.config.token=UC.config.token||UC.getUrlParamt("token"),UC.config.enterId=UC.config.enterId||UC.getUrlParamt("enterId"),l(function(){t="object"===(void 0===t?"undefined":o(t))?t:{},t.signature=UC.config.signature,r(e,t,n,function(o){if(o&&"501"==o.code){var r=b();localStorage.removeItem(r),UC.call(e,t,n,i)}else i(o)})})},UC.debug={log:function(e){C(e)},error:function(e){C(e,"error")},_req:function(e,t){C("======["+e+"] 请求数据======"),C(t)},_res:function(e,t){C("======["+e+"] 响应数据======"),C(t)}},UC.getUrlParamt=function(e){var t="";try{var n=JSON.parse(plus.runtime.arguments);t=n[e]||""}catch(n){var o=v("state")||"";o&&(o=(new Base64).doDecode(o)),t=v(e,o)}return t};var A=function(e,t){var n="";return function(){return e&&(n=e.apply(t||arguments),e=null),n}}(function(t){e.UC.debug.log(t||" ready."),"function"==typeof UC.ready&&UC.ready()});document.addEventListener("plusready",function(){A("plusready"),e.UC.client="H5+"}),document.addEventListener("WebViewJavascriptBridgeReady",function(){A("WebViewJavascriptBridgeReady"),e.UC.client="MOBILE"}),U().ios||U().android||setTimeout(function(){A()},100),function(){function t(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}e.jsonp=function(e){if(e=e||{},!e.url)throw new Error("参数不合法");var n=("jsonp_"+Math.random()).replace(".",""),o=document.getElementsByTagName("head")[0];e.data.callback=n;var i=t(e.data),r=document.createElement("script");o.appendChild(r),window[n]=function(t){o.removeChild(r),clearTimeout(r.timer),window[n]=null,e.success&&e.success(t)},r.src=e.url+"?"+i,e.time&&(r.timer=setTimeout(function(){window[n]=null,o.removeChild(r),e.fail&&e.fail({message:"超时"})},e.time))}}(),function(){e.Base64=function(){function e(e){var t,n,o,r,a,c;for(o=e.length,n=0,t="";n<o;){if(r=255&e.charCodeAt(n++),n==o){t+=i.charAt(r>>2),t+=i.charAt((3&r)<<4),t+="==";break}if(a=e.charCodeAt(n++),n==o){t+=i.charAt(r>>2),t+=i.charAt((3&r)<<4|(240&a)>>4),t+=i.charAt((15&a)<<2),t+="=";break}c=e.charCodeAt(n++),t+=i.charAt(r>>2),t+=i.charAt((3&r)<<4|(240&a)>>4),t+=i.charAt((15&a)<<2|(192&c)>>6),t+=i.charAt(63&c)}return t}function t(e){var t,n,o,i,a,c,d;for(c=e.length,a=0,d="";a<c;){do{t=r[255&e.charCodeAt(a++)]}while(a<c&&-1==t);if(-1==t)break;do{n=r[255&e.charCodeAt(a++)]}while(a<c&&-1==n);if(-1==n)break;d+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(o=255&e.charCodeAt(a++)))return d;o=r[o]}while(a<c&&-1==o);if(-1==o)break;d+=String.fromCharCode((15&n)<<4|(60&o)>>2);do{if(61==(i=255&e.charCodeAt(a++)))return d;i=r[i]}while(a<c&&-1==i);if(-1==i)break;d+=String.fromCharCode((3&o)<<6|i)}return d}function n(e){var t,n,o,i;for(t="",o=e.length,n=0;n<o;n++)i=e.charCodeAt(n),i>=1&&i<=127?t+=e.charAt(n):i>2047?(t+=String.fromCharCode(224|i>>12&15),t+=String.fromCharCode(128|i>>6&63),t+=String.fromCharCode(128|i>>0&63)):(t+=String.fromCharCode(192|i>>6&31),t+=String.fromCharCode(128|i>>0&63));return t}function o(e){var t,n,o,i,r,a;for(t="",o=e.length,n=0;n<o;)switch((i=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:r=e.charCodeAt(n++),t+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=e.charCodeAt(n++),a=e.charCodeAt(n++),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&a)<<0)}return t}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);this.doEncode=function(t){return t?e(n(t)):""},this.doDecode=function(e){return e?o(t(e)):""}}}();var E="wrap-cons",I=E+"-content"}(window)}])});
